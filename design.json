{
    "_id": "_design/listener_telemetry_stats", 
    "language": "javascript", 
    "views": {
        "callsign-all": {
            "map": "/* Copyright (c) 2012 Daniel Richman. GNU GPL 3 */\n\nfunction (doc)\n{\n    if (doc.type != \"payload_telemetry\" || !doc.data || !doc.receivers)\n        return;\n\n    for (var callsign in doc.receivers)\n        emit(callsign, 1);\n}", 
            "reduce": "_sum"
        }, 
        "callsign-by-flight": {
            "map": "/* Copyright (c) 2012 Daniel Richman. GNU GPL 3 */\n\nfunction (doc)\n{\n    if (doc.type != \"payload_telemetry\" || !doc.data || !doc.data._parsed ||\n            !doc.receivers || !doc.data._flight)\n        return;\n\n    for (var callsign in doc.receivers)\n        emit([doc.data._flight, callsign], 1);\n}", 
            "reduce": "_sum"
        },
        "daily-uploads": {
            "map": "/* Copyright (c) 2012 Daniel Richman. GNU GPL 3 */\n\nfunction (doc)\n{\n    if (doc.type != \"payload_telemetry\" || !doc.data || !doc.data._parsed ||\n            !doc.receivers || !doc.data._flight)\n        return;\n\n    for (var callsign in doc.receivers)\n    {\n        var t = doc.receivers[callsign].time_created;\n        t = Math.floor(t / (3600 * 24));\n        emit(t, 1);\n    }\n}", 
            "reduce": "_sum"
        },
        "flight-mtimes": {
            "map": "/* Copyright (c) 2012 Daniel Richman. GNU GPL 3 */\n\nfunction (doc)\n{\n    if (doc.type != \"payload_telemetry\" || !doc.data || !doc.data._parsed ||\n            !doc.receivers || !doc.data._flight)\n        return;\n\n    for (var callsign in doc.receivers)\n    {\n        var t = doc.receivers[callsign].time_created;\n        emit(doc.data._flight, t);\n    }\n}", 
            "reduce": "function (keys, values, rereduce)\n{\n    return Math.max.apply(null, values);\n}"
        },
        "flight-names": { 
            "map": "/* Copyright (c) 2012 Daniel Richman. GNU GPL 3 */\n\nfunction (doc)\n{\n    if (doc.type != \"flight\")\n        return;\n    emit(doc._id, doc.name);\n}"
        }
    }
}
